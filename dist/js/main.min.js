"use strict";function FormSubmit(t){this.element=t.element,this.textType=this.element.find("[data-valid=text]"),this.mailType=this.element.find("[data-valid=email]"),this.phoneType=this.element.find("[data-valid=phone]"),this.bindEvents()}function initialize(){var t=new google.maps.LatLng(54.991955,82.845115),e={zoom:12,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map"),e);new google.maps.Marker({position:t,map:i,icon:"../img/marker.png"})}FormSubmit.prototype.bindEvents=function(){this.element.on("submit",this.submit.bind(this))},FormSubmit.prototype.submit=function(t){t.preventDefault(),this.isValidateForm()||this.sendForm()},FormSubmit.prototype.isValidateForm=function(){return this.validText(),this.validPhone(),this.validEmail(),this.element.find(".js-error").length},FormSubmit.prototype.sendForm=function(){var t=this.element.attr("action");if(!t)return void console.log("Set action attribute to your form");var e=this.element.serialize(),i=this.element.find("input, textarea");$.ajax({url:t,type:"POST",data:e}).fail(function(){console.log("fail")}).done(function(){i.val(""),console.log("done")})},FormSubmit.prototype.validText=function(){this.textType.each(function(){var t=$(this),e=""===$.trim(t.val());t.toggleClass("js-error",e)})},FormSubmit.prototype.validPhone=function(){this.phoneType.each(function(){var t=$(this),e=/^(?:\+?\d{2}[ -]?[\d -][\d -]+)$/,i=e.test(t.val());t.toggleClass("js-error",!i)})},FormSubmit.prototype.validEmail=function(){this.mailType.each(function(){var t=$(this),e=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])/,i=e.test(t.val());t.toggleClass("js-error",!i)})},$(document).ready(function(){$("form").length&&(new FormSubmit({element:$(".js-assotiation-form")}),new FormSubmit({element:$(".js-subscribe-form")}),new FormSubmit({element:$(".js-contacts-form")})),$(".main-slider").slick({autoplay:!1,dots:!0,slidesToShow:1,slidesToScroll:1}),$(".js-article").on("click",function(t){t.preventDefault();var e=$(this),i=$(".js-article").index($(this));$(".articles__item, .js-article-list").removeClass("js-active"),e.closest(".articles__item").addClass("js-active"),$(".js-article-list").eq(i).addClass("js-active")}),$(".partners-slider").slick({autoplay:!1,dots:!0,slidesToShow:6,slidesToScroll:6,responsive:[{breakpoint:1e3,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:740,settings:{slidesToShow:2,slidesToScroll:2,dots:!1}}]}),$("#map").length&&google.maps.event.addDomListener(window,"load",initialize),$(".contacts").click(function(){$(".contacts #map").css("pointer-events","auto")}),$(".js-contacts-form-title").on("click",function(){$(window).width()>740&&($(".js-contacts-block").slideToggle(),$(".js-contacts-form-title").toggleClass("js-active"))}),$(".gallery-nav").slick({autoplay:!1,slidesToShow:3,slidesToScroll:1,vertical:!0,asNavFor:".gallery-for",centerMode:!0,focusOnSelect:!0}),$(".gallery-for").slick({autoplay:!1,slidesToShow:1,slidesToScroll:1,fade:!0,asNavFor:".gallery-nav",responsive:[{breakpoint:1e3,settings:{fade:!1}}]}),$(".js-nav").on("click",function(){$(window).width()<740&&($(this).toggleClass("js-active"),$(this).siblings(".js-nav-list").slideToggle())}),$(".js-up").on("click",function(){$("html, body").animate({scrollTop:0},1e3)})});